\section{Lecture 17}

\subsection{More Stabilizer Codes}
Recall our definition for a Stabilizer code, succinctly written.
\begin{definition}
    A \textbf{Stabilizer code} over a space $\H_A$ is a subspace $\H_{code} \subseteq \H_A$
    such that
    \[ \H_{code} = \qty\{ \ket{\tilde{\psi}} \mid \ket{\tilde{\psi}} \in \H_A, \text{ } \forall i \text{ } M_i \ket{\tilde{\psi}} = \ket{\tilde{\psi}} \} \]
    where $\{ M_i\}$ is a set of operators from $\mathcal{G}_n$ that satisfy:
    \begin{enumerate}
        \item They commute. $[M_i, M_j] = M_i M_j - M_j M_i = 0$.
        \item They are independent. Namely there is no $M_i = M_{i_1} M_{i_2} \dots$.
        \item They are Hermitian. $M_i = M_i^{\dagger}$
    \end{enumerate} 
\end{definition}

If we have $n - k$ stabilizers, then you have $n - k$ linearly independent conditions,
and the dimension of this subspace (the size of the code) is $\dim \H_{code} = 2^{n - (n - k)} = 2^k$.
This yields a very succinct way to realize the code as quantum gates.

\begin{theorem}
If we implement $\{M_i\}$ as syndrome measurements and apply appropriate corrections, we can correct any error
on up to some number of qubits.

    To show this, first consider some error $E_k \in \mathcal{G}_n$.
            Either $[E_k, M_i] = 0$, which means $M_i E_k \ket{\tilde{\psi}} = E_k M_i \ket{\tilde{\psi}} = E_k \ket{\tilde{\psi}}$,
            and we have an eigenvalue of +1,
            or ${E_k, M_i} = 0$, which means $M_i E_k \ket{\tilde{\psi}} = - E_k M_i \ket{\psi} = -E_k \ket{\psi}$ and we have an eigenvalue of -1.

            The Knill-Laflamme conditions say we must show
            \[ \mel{\tilde{i}}{E_k^{\dagger} E_{l}}{\tilde{j}} = \delta_{ij} M_{k l} \]
            We study three cases.
            \begin{enumerate}
                \item $E_k^{\dagger} E_{l} = M_{i_1} M_{i_2} \dots$, i.e. it is in the group generated by the $M_{i}$'s. Then
                since $\ket{\tilde{i}}$ are eigenvectors of the $M_i$'s with eigenvalue +1, they also have the same eigenvalue for $E_k^{\dagger} E_{l}$.
                So $\mel{\tilde{i}}{E_k^{\dagger} E_l}{\tilde{j}} = \ketbra{\tilde{i}}{\tilde{j}} = \delta_{ij}$.
                \item $\{E_k^{\dagger} E_l, M_i\} = 0$ for some $i$. Then $E_k^{\dagger} E_l \ket{\tilde{j}}$ is an eigenvector of $M_i$ with eigenvalue $-1$ (by the above),
                but $\ket{\tilde{i}}$ is an eigenvector with eigenvalue $+1$, so they must be orthogonal, so $\ket{\tilde{i}}{E_k^{\dagger} E_l}{\tilde{j}} = 0 = 0 \delta_{ij}$.
                \item $[E_k^{\dagger} E_l, M_i] = 0$ for all $i$, but is not in case 1. Then $E_k^{\dagger} E_l \ket{\tilde{j}} \in \H_{code} \neq \ket{\tilde{j}}$ in general.
                So we cannot prove the Knill-Laflame conditions.
            \end{enumerate}
    In the first and second case, we are good. Suppose we find these $\{M_i\}$ such that
    for all $i$, $[M, M_i] = 0$ means that $M$ acts on at least $d$ qubits, which we will call the \textbf{distance} of the code.
    We thus limit our discussion to $E_k = \{ I, \text{Paulis on $(d - 1)/2$ qubits} \}$. Then $E_k^{\dagger} E_l$ acts on at most $d - 1$ qubits,
    meaning $\H_{code}$ satisfies Knill-Laflamme conditions.
\end{theorem}

\begin{example}
    To see that $d$ qubits in action, let's take a look at the Shor code.
    \[ \{M_i\} = \{ Z_1 Z_2, Z_2 Z_3, Z_4 Z_5, Z_5 Z_6, Z_7 Z_8, Z_8 Z_9, X_1 X_2 X_3 X_4 X_5 X_6, X_4 X_5 X_6 X_7 X_8 X_9 \}\]
    To commute with all the stabilizers, it would have to commute
\end{example}

\begin{definition}
    A quantum error-correcting code with $n$ physical qubits, $k$ logical qubits and distance $d$ is denoted as a
    $\llbracket n, k, d \rrbracket$ quantum error-correcting code.
\end{definition}

So, we have shown the Shor code is a $\llbracket 9, 1, 3 \rrbracket$ quantum error-correcting code. Here are a few:
\begin{example}
    The \textbf{Steane code} is a $\llbracket 7, 1, 3 \rrbracket$ stabilizer code with stabilizers:
    \[ \{ Z_1 Z_3 Z_5 Z_7, Z_2 Z_3 Z_6 Z_7, Z_4 Z_5 Z_6 Z_7, X_1 X_3 X_5 X_7, X_2 X_3 X_6 X_7, X_4 X_5 X_6 X_7  \} \]
    Clearly the $Z_i$'s commute, but to see the $Z$'s and $X$'s commute, notice that each product of $Z$'s shares an even number of factors with
    each product of $X$'s.

    The \textbf{Five-qubit code} is a $\llbracket 5, 1, 3 \rrbracket$ stabilizer code with stabilizers:
    \[ \{X_1 Z_2 Z_3 X_4, X_2 Z_3 Z_4 X_5, X_1 X_3 Z_4 Z_5 \} \]
\end{example}

One may ask if we can do better. The answer is no.
\begin{theorem}
    There is no $\llbracket 4, 1, 3 \rrbracket$ code.

    \begin{proof*}
        Consider the set of errors $E_k$ that only act on the first two qubits, so $E_k^{\dagger} E_l$ acts on first two qubits. Consider an arbitrary state $\ket{\tilde{\psi}}$.
        Send the first two physical qubits to Alice and the last two physical qubits to Bob. Then Both Alice and bob could recover $\ket{\tilde{\psi}}$,
        but this would clone the state! So such a code could not exist.
    \end{proof*}
\end{theorem}

\subsection{Toric Code}
Consider a square lattice. We are going to place one physical qubit on each edge of the lattice.
Further we add a toroidal topology, so the top of the lattice is connected to the bottom and the right of the lattice is connected to the left.
Let $v$ be a vertex, $e$ be an edge (physical qubit) and $p$ be a face (plaquette) of this lattice. Define $e(p) = \{ e : e = \{p, \cdot\}\}$ and
$A_v = \prod_{e(p)} X_e$. Since each vertex has 4 incident edges, there are 4 $X$ operators and $B_p = \prod_{e(p)} Z_p$
where we mean incident edges in the dual graph, i.e. the edges surrounding the face. Again, there are 4 per face, so this is very explicit.
Check the commutation, since $X$'s and $Z$'s commute with themselves:
\[ [A_v, A_{v'}] = 0, [B_p, B_{p'}] = 0 \]
Now, we explore $[A_v, B_p]$. They clearly commute if they share no edges. If they share an edge, then $v$ must be a corner of $p$,
so they share exactly two edges. But each of these introduce a minus sign when commuted, which cancel to 0, i.e. $[X_1 X_2, Z_1 Z_2] = 0$.
Thus, all these operators commute and form a valid set of stabilizers. Suppose the lattice has size $L$. What is the number of logical qubits here?
\[ \dim \H_{phys} = 2^{n_e} = 2^{2L^2} \]
How many stabilizers do we have? We have $L^2$ vertices and $L^2$ plaquettes, giving $2L^2$ stabilizers? But wait,
not all of these are independent, because $\prod_v A_v = I$ (by handshaking, every vertex contributes
two copies of every $X$ operator, and $X_i^2 = I_i$, so this leads to the identity). Similarly, $\prod_p B_p = I$. Thus, we only have $2L^2 - 2$ independent
stabilizers. So $k = 2$ logical qubits and $\dim \H_{code} = 2^2 = 4$. Let's find its distance.
Suppose $[E_k^{\dagger} E_l, A_v] = 0$ for all $v$ and $[E_k^{\dagger} E_l, B_p] = 0$ for all $p$. We know that for some set $e_X, e_Z$:
\[ E_k^{\dagger} E_l = \pm \prod_{i \in e_X} X_i \prod_{j \in e_Z} Z_j \]
So $[E_k^{\dagger} E_l, A_v] = 0$ if and only if $e_Z$ and $e(v)$ share $0, 2$, or $4$ edges.
Such a graph must be a set of closed loops. Similarly, $[E_k^{\dagger} E_l, B_p] = 0$ if and only if $e_X$ and $e(p)$
share an even number of edges. This means the dual graph must be a set of closed loops.
